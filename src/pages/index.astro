---

---

<html lang="es">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>El Turril - Los mejores sándwiches al turril</title>
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap"
			rel="stylesheet"
		/>
	</head>
	<body class="min-h-screen bg-secondary p-4">
		<div class="mx-auto max-w-md space-y-8 py-10">
			<div class="text-center">
				<img
					alt="El Turril Logo"
					class="mx-auto h-32 w-32"
					src="/logo.png"
				/>
				<h1 class="mt-4 text-2xl font-bold text-primary">
					El Turril
				</h1>
				<p class="text-primary">Los mejores sándwiches al turril</p>
			</div>
			<div class="space-y-4">
				<button
					id="openOrderDialog"
					class="w-full bg-primary text-black hover:bg-primary/90 py-2 rounded flex items-center justify-center"
				>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="20"
						height="20"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
						stroke-linecap="round"
						stroke-linejoin="round"
						class="mr-2"
						><path
							d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
						></path></svg
					>
					Realizar Pedido
				</button>
				<dialog
					id="orderDialog"
					class="bg-secondary text-yellow-500 p-6 rounded-lg shadow-lg w-full max-w-md"
				>
					<h2 class="text-2xl font-semibold mb-4 text-yellow-500">
						Nuevo Pedido
					</h2>
					<p class="text-yellow-400 mb-6">
						Personaliza tu pedido y envíalo por WhatsApp
					</p>
					<form id="orderForm" class="space-y-6">
						<!-- Sección dinámica para agregar sándwiches -->
						<div id="sandwichList" class="space-y-4">
							<!-- Plantilla para un sándwich -->
							<div class="sandwich-item space-y-2">
								<div>
									<label class="block text-yellow-400 mb-1"
										>Tipo de Sándwich</label
									>
									<select
										name="sandwichType[]"
										class="w-full bg-secondary text-yellow-500 border border-yellow-500 rounded-md p-2"
									>
										<option value="cerdo"
											>Turrilazo de Cerdo</option
										>
										<option value="pollo"
											>Turrilazo de Pollo</option
										>
										<option value="mega"
											>Mega turrilazo(150gr.)</option
										>
										<!-- Puedes agregar más opciones aquí -->
									</select>
								</div>
								<div>
									<label class="block text-yellow-400 mb-1"
										>Cantidad</label
									>
									<input
										type="number"
										name="quantity[]"
										value="1"
										min="1"
										class="w-full bg-secondary text-yellow-500 border border-yellow-500 rounded-md p-2"
									/>
								</div>
								<button
									type="button"
									class="remove-sandwich px-3 py-1 bg-red-600 text-white rounded hover:bg-red-500"
								>
									Eliminar
								</button>
								<hr class="border-yellow-500" />
							</div>
							<!-- Fin de la plantilla -->
						</div>
						<button
							type="button"
							id="addSandwich"
							class="w-full px-4 py-2 border border-yellow-500 text-yellow-500 rounded hover:bg-yellow-500 hover:text-black"
						>
							Agregar Sándwich
						</button>
						<div>
							<label
								for="notes"
								class="block text-yellow-400 mb-2"
								>Notas adicionales</label
							>
							<textarea
								id="notes"
								name="notes"
								class="w-full bg-secondary text-yellow-500 border border-yellow-500 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"
							></textarea>
						</div>
						<div class="flex justify-end space-x-3">
							<button
								type="button"
								id="closeOrderDialog"
								class="px-5 py-2 border border-yellow-500 text-yellow-500 rounded-md hover:bg-yellow-500 hover:text-black focus:outline-none focus:ring-2 focus:ring-yellow-500"
							>
								Cancelar
							</button>
							<button
								type="submit"
								class="px-5 py-2 bg-yellow-500 text-black rounded-md shadow-md hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-500"
							>
								Enviar Pedido por WhatsApp
							</button>
						</div>
					</form>
				</dialog>

				<a
					href="/menu"
					class="w-full bg-primary text-black hover:bg-primary/90 py-2 rounded flex items-center justify-center"
				>
					<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M3 3h18v18H3zM12 3v18"/><path d="M3 12h18"/></svg>
					Ver Menú
				</a>
				<a
					href="tel:+51724876977"
					class="w-full border border-primary text-primary hover:bg-primary hover:text-black py-2 rounded flex items-center justify-center"
				>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="20"
						height="20"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
						stroke-linecap="round"
						stroke-linejoin="round"
						class="mr-2"
						><path
							d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
						></path></svg
					>
					Llamar
				</a>
				<a
					href="https://www.facebook.com/elturril"
					target="_blank"
					rel="noopener noreferrer"
					class="w-full border border-primary text-primary hover:bg-primary hover:text-black py-2 rounded flex items-center justify-center"
				>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="20"
						height="20"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
						stroke-linecap="round"
						stroke-linejoin="round"
						class="mr-2"
						><path
							d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"
						></path></svg
					>
					Facebook
				</a>
				<a
					href="https://www.instagram.com/elturril"
					target="_blank"
					rel="noopener noreferrer"
					class="w-full border border-primary text-primary hover:bg-primary hover:text-black py-2 rounded flex items-center justify-center"
				>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="20"
						height="20"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
						stroke-linecap="round"
						stroke-linejoin="round"
						class="mr-2"
						><rect x="2" y="2" width="20" height="20" rx="5" ry="5"
						></rect><path
							d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"
						></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"
						></line></svg
					>
					Instagram
				</a>
				<div class="flex items-center gap-2 text-primary">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="20"
						height="20"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
						stroke-linecap="round"
						stroke-linejoin="round"
						class="flex-shrink-0"
						><path
							d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"
						></path><circle cx="12" cy="10" r="3"></circle></svg
					>
					<p>Ayacucho entre 6 de Octubre y Soria Galvarro</p>
				</div>
			</div>
		</div>
	</body>
</html>

<style>
	body {
		font-family: "Inter", sans-serif;
		margin: 0;
		padding: 0;
	}
</style>

--- ---

<!-- Scripts para manejar la lógica de agregar/eliminar sándwiches -->
<script>
	document.addEventListener("DOMContentLoaded", function () {
		const orderDialog = document.getElementById(
			"orderDialog",
		) as HTMLDialogElement;
		const openOrderDialog = document.getElementById("openOrderDialog");
		const closeOrderDialog = document.getElementById("closeOrderDialog");
		const orderForm = document.getElementById(
			"orderForm",
		) as HTMLFormElement;
		const sandwichList = document.getElementById(
			"sandwichList",
		) as HTMLElement;
		const addSandwichButton = document.getElementById("addSandwich");

		// Función para agregar un nuevo sándwich
		function addSandwich() {
			const originalSandwichItem = document.querySelector(
				".sandwich-item",
			) as HTMLElement;
			const sandwichItem = originalSandwichItem.cloneNode(
				true,
			) as HTMLElement;

			// Restablecer los valores del nuevo sándwich
			const selectElement = sandwichItem.querySelector(
				"select",
			) as HTMLSelectElement;
			const quantityInput = sandwichItem.querySelector(
				'input[type="number"]',
			) as HTMLInputElement;

			selectElement.value = "cerdo";
			quantityInput.value = "1";

			attachRemoveEvent(sandwichItem);
			sandwichList.appendChild(sandwichItem);
		}

		// Función para eliminar un sándwich
		function attachRemoveEvent(item: HTMLElement) {
			const removeButton = item.querySelector(
				".remove-sandwich",
			) as HTMLElement;
			removeButton.addEventListener("click", function () {
				item.remove();
			});
		}

		// Agregar evento al botón "Agregar Sándwich"
		addSandwichButton.addEventListener("click", addSandwich);

		// Adjuntar evento de eliminar al sándwich inicial
		const initialSandwichItem = document.querySelector(
			".sandwich-item",
		) as HTMLElement;
		attachRemoveEvent(initialSandwichItem);

		// Evento para abrir el diálogo
		if (openOrderDialog && orderDialog) {
			openOrderDialog.addEventListener("click", () => {
				orderDialog.showModal();
			});
		}

		// Evento para cerrar el diálogo
		if (closeOrderDialog && orderDialog) {
			closeOrderDialog.addEventListener("click", () => {
				orderDialog.close();
			});
		}

		// Manejar el envío del formulario
		if (orderForm && orderDialog) {
			orderForm.addEventListener("submit", (e) => {
				e.preventDefault();

				const formData = new FormData(orderForm);
				const sandwichTypes = formData.getAll("sandwichType[]");
				const quantities = formData.getAll("quantity[]");
				const notes = formData.get("notes");

				// Generar el mensaje con todos los sándwiches
				let message = "¡Hola! Me gustaría ordenar:\n";

				for (let i = 0; i < sandwichTypes.length; i++) {
					message += `${quantities[i]} Sándwich(es) de ${sandwichTypes[i]}\n`;
				}

				if (notes) {
					message += `\nNotas adicionales: ${notes}`;
				}

				const encodedMessage = encodeURIComponent(message);
				window.open(
					`https://wa.me/+59172487697?text=${encodedMessage}`,
					"_blank",
				);
				orderDialog.close();
			});
		}
	});
</script>
